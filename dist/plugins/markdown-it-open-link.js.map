{"version":3,"file":"markdown-it-open-link.js","sourceRoot":"","sources":["../../src/plugins/markdown-it-open-link.ts"],"names":[],"mappings":";;AAEA,SAAwB,iBAAiB,CAAE,EAAc;IACvD,MAAM,aAAa,GAAG,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,IAAI,UAAS,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,IAAI;QAC3F,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;IAChD,CAAC,CAAC;IAEF,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,IAAI;QAErE,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAE/C,IAAI,MAAM,GAAG,CAAC,EAAE,CAAC;YACf,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;QAC7C,CAAC;QAGD,OAAO,aAAa,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC,CAAC;AACJ,CAAC;AAhBD,oCAgBC","sourcesContent":["import MarkdownIt from 'markdown-it'\n\nexport default function targetBlankPlugin (md: MarkdownIt) {\n  const defaultRender = md.renderer.rules.link_open || function(tokens, idx, options, env, self) {\n    return self.renderToken(tokens, idx, options);\n  };\n\n  md.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n    // If you are sure other plugins can't add `target` - drop check below\n    const aIndex = tokens[idx].attrIndex('target');\n\n    if (aIndex < 0) {\n      tokens[idx].attrPush(['target', '_blank']); // add new attribute\n    }\n\n    // pass token to default renderer.\n    return defaultRender(tokens, idx, options, env, self);\n  };\n}"]}